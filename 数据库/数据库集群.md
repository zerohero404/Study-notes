# Mysql 主从备份
1.首先修改主服务器 /etc/my.cnf 配置文件<br>
&ensp;vim /etc/my.cnf<br>
&ensp;&ensp;添加两条选项，开启二进制日志<br>
&ensp;&ensp;log-bin=mysql-bin # 启用二进制日志<br>
&ensp;&ensp;server-id=24 # 服务器的 id 号<br>
2.再修改从服务器 /etc/my.cnf 配置文件<br>
&ensp;vim /etc/my.cnf<br>
&ensp;&ensp;添加两条选项，开启二进制日志<br>
&ensp;&ensp;log-bin=mysql-bin # 启用二进制日志<br>
&ensp;&ensp;server-id=23 # 服务器的 id 号
 <img width="866" height="373" alt="Linux：网络服务_59" src="https://github.com/user-attachments/assets/3868f7ca-f69f-484a-b95c-dca4057775bd" /><br>
3.登录主服务器的 mysql 数据库
&ensp;mysql -uroot -p
&ensp;&ensp;在主服务器上授权
```bash
mysql>grant replication slave on *.* to asd(登录的用户名)@’192.168.64.23(从服务器的 IP 地址)’ identified by ‘123456(密码)’;
```
 <img width="661" height="135" alt="Linux：网络服务_60" src="https://github.com/user-attachments/assets/f8cae1c9-c881-4235-8aca-fa2241988ea2" /><br>

&ensp;4.mysql>show master status; # 查看日志文件名和大小<br>
 <img width="392" height="130" alt="Linux：网络服务_61" src="https://github.com/user-attachments/assets/eed2481d-efb8-48ee-a856-fcbd3230ac6b" />

4.登录从服务器的 mysql 数据库
&ensp;mysql -uroot -p
&ensp;&ensp;在从服务器保存授权的信息
```bash
mysql>change master to master_user=’asd(主服务器授权的用户名)’,master_password=’123456(主服务器授权的密码)’,master_host=’192.168.64.24(主服务器的 IP 地址)’,master_log_file=’mysql-bin.000003(主服务器日志文件名)’,master_log_pos=257(主服务器日志文件大小);
```
